<div class="mainContainerMessage" [ngClass]="{'mainContainerChannelMessageOwnMessage': userIdMatchesWithIdFromLoggedinUser(), 
    'mainContainerChannelMessageFromOtherUser': !userIdMatchesWithIdFromLoggedinUser()}"
    (mouseleave)="closeOpenMenusInMessageIfHoverOutside()">

    <!--------------------------------- Reaction Bar --------------------------------->
    <div [ngClass]="{'containerReactionBarRightSide':  userIdMatchesWithIdFromLoggedinUser(), 
        'containerReactionBarLeftSide': !userIdMatchesWithIdFromLoggedinUser()}" class="containerReactionBar">

        <div class="containerSingleIcon" (click)="openBarToSelectEmojis()">
            <img src="assets/icons/add-emojis-icon.svg" alt="Add Emoji Icon">
        </div>

        @if (userIdMatchesWithIdFromLoggedinUser()) {
        <div class="containerSingleIcon" (click)="openMenuMoreOptions()">
            <img src="assets/icons/more-options-icon.svg" alt="More Options Icon">
        </div>
        }
    </div>
    <!--------------------------------- Reaction Bar --------------------------------->


    <!--------------------------------- Menu more Options --------------------------------->
    @if(menuMoreOptionsAreOpen) {
    <div class="containerMenuMoreOptions">
        <p>Edit Message</p>
        <p>Delete Message</p>
    </div>
    }
    <!--------------------------------- Menu more Options --------------------------------->


    <!--------------------------------- Bar to select Emojis --------------------------------->
    @if(barToSelectEmojisAreOpen) {
    <div [ngClass]="{'containerReactionBarRightSide': userIdMatchesWithIdFromLoggedinUser(), 
    'containerReactionBarLeftSide': !userIdMatchesWithIdFromLoggedinUser()}" class="containerReactionBar"
        style="top: 30px;">

        <img class="singleIcon" src="assets/icons/check-emoji-icon.svg" alt="Emoji Icon">

        <img class="singleIcon" src="assets/icons/raising-both-hands-emoji-icon.svg" alt="Emoji Icon">

        <img class="singleIcon" src="assets/icons/nerd-emoji-icon.svg" alt="Emoji Icon">

        <img class="singleIcon" src="assets/icons/rocket-emoji-icon.svg" alt="Emoji Icon">
    </div>
    }
    <!--------------------------------- Bar to select Emojis --------------------------------->


    @if (noProfileImgExistInMessage()) {
    <img class="imgNoSelectedProfile" src="assets/img/non-user-selected.svg" alt="Profile Image">
    }@else {
    <img src="{{ threadMessage.userThatSendedMessage?.imgUrl }}" alt="Profile Image">
    }


    <div [ngClass]="{'container': !userIdMatchesWithIdFromLoggedinUser()}">

        <div [ngClass]="{'containerChannelMessageUpperPartOwnMessage': userIdMatchesWithIdFromLoggedinUser(), 
            'containerChannelMessageUpperPartFromOtherUser': !userIdMatchesWithIdFromLoggedinUser()}">

            <p>{{ threadMessage.userThatSendedMessage?.name }}</p>
            <p>{{ threadMessage.senderTime | date: 'HH:mm' }} Uhr</p>
        </div>

        @if (threadMessage.messageText.trim() !== '') {
        <p [ngClass]="{'messageTextOwnMessage': userIdMatchesWithIdFromLoggedinUser(), 
           'messageTextFromOtherUser': !userIdMatchesWithIdFromLoggedinUser()}">
            {{ threadMessage.messageText }}
        </p>
        }


        <!--------------------------------- Displayed here the uploaded Images in Message --------------------------------->
        @for (uploadedImage of threadMessage.attachedFiles; track $index) {
        <img class="uploadedImage" src="{{ uploadedImage }}" alt="Uploaded Image"
            (click)="openImageDetailView(uploadedImage)">
        }
        <!--------------------------------- Displayed here the uploaded Images in Message --------------------------------->
    </div>
</div>